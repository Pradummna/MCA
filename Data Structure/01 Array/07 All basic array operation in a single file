// Performing traversal, insertion, deletion and searching operations in array creating menu 
#include<stdio.h>
#include<stdlib.h>

void createArray(int size);
void menu(int arr[], int *size);
void traverseAndDisplay(int arr[], int size);
void insertion(int arr[], int *size); // insert array element in any location
void deletion(int arr[], int *size);  // delete array element in any location
void searching(int arr[], int size); 

int main() {
	int size;
	printf("\nEnter a size of an array: ");
	scanf("%d", &size);
	
	createArray(size);
	return 0;
}

void createArray(int size) {
	int i, arr[100];
	
	printf("\n\nEnter elements into an array\n");
	
	for(i=0; i<size; i++) {
		printf("%d Index: ",i);
		scanf("%d",&arr[i]);	
	}
		menu(arr, &size);
}

void menu(int arr[], int *size) {
	int choice;
	
	do {
		printf("\n\nArray Operations\n");
		printf("\n 1. Traverse and Display");
		printf("\n 2. Insertion");
		printf("\n 3. Deletion");
		printf("\n 4. Searching");
		printf("\n 5. Exit");
		
		printf("\n\nEnter you choice: ");
		scanf("%d",&choice);
		
		switch(choice) {
			case 1: {
				traverseAndDisplay(arr, *size);
				break;
			}
			
			case 2: {
			 	insertion(arr, size);
				break;
			}
			
			case 3: {
				deletion(arr, size);
				break;
			}
			
			case 4: {
				searching(arr, *size);
				break;
			}
			
			case 5: 
				printf("\n\nSuccessfully Exit");
				break;
			
			default: 
				printf("\n\nInvalid input");
				break;
		}
	} while(choice != 5);
}

void traverseAndDisplay(int arr[], int size){
	int i;
	printf("\n\nArray elements: ");
	for(i=0; i<size; i++) {
		printf("%d ", arr[i]);
	} 
	printf("\n\nTraversing successfull");
}

void insertion(int arr[], int *size){
	 int pos, elem, i;
	 printf("\n\nEnter a position to insert element(0 to %d): ", *size);
	 scanf("%d", &pos);
	 
	 if(pos >= 0 && pos <= *size) {
	 	printf("\n\nEnter the element: ");
	 	scanf("%d",&elem);
	 
	 // Inserting element into the given location
	 for(i=*size; i>pos; i--) {
			arr[i] = arr[i-1];
	 }
	 arr[pos] = elem;
	 (*size)++; // increase the size
		printf("\n\nElement inserted successfully"); 
	} else {
	 	printf("\n\nInvalid position");
	}
}

void deletion(int arr[], int *size){
	int i, pos;
	printf("\n\nDelete and element from an array by position");
	printf("\nEnter the postion (0 to %d): ", *size-1);
	scanf("%d",&pos);
	
	if(pos >= 0 && pos < *size) {
		for(i=pos; i<*size-1; i++) {
			arr[i]=arr[i+1];
		}
		(*size)--;
		printf("\n\nElement deleted successfully\n");
	} else {
      printf("\n\nInvalid position\n");
  }
}

void searching(int arr[], int size){
	int i, search_elem, found=0;
	printf("\n\nSearching an existing element");
	printf("\n\nEnter the element: ");
	scanf("%d",&search_elem);
	
	for(i=0; i<size; i++) {
		if(search_elem == arr[i]) {
			printf("\nThe element %d found in array index %d", search_elem, i);
			found = 1;
			break;
		}
	}
	if(!found){
		printf("\nThe element %d not found in the array\n", search_elem);
	}
}
